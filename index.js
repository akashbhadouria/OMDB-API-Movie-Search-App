const apiKey = 'bb127790';


async function searchMovie(e) {
   e.preventDefault(); 
   
    const form = document.getElementById("form");

    let movie = form.movie.value;
      
    try {
            let url = `https://www.omdbapi.com/?s=${movie}&apikey=${apiKey}`;

            let res = await fetch(url);

            let data = await res.json();

            console.log(data.Search);

            append(data.Search);

    } catch(err) {
        const body = document.querySelector("body");
        
        let img = document.createElement("img");
        img.setAttribute("class","errImg");

        img.src = 'data:image/jpeg;base64,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'

        let h1 = document.createElement("h1");

        h1.innerText = err;

        body.append(h1,img);

        setTimeout(() => {
            window.location.reload();
        },3000);
   }

   form.reset();

};

function append(movies) {


    const body = document.getElementById("bodys");

    body.innerHTML = null;

    movies.map((elem) => {
       console.log(elem); 
        
       let box = document.createElement("div");
       box.setAttribute("class", "box");

       let img = document.createElement("img");
       img.src = elem.Poster;

        let release = document.createElement("h2");
        release.innerText = elem.Year;

        let title = document.createElement("h2");
        title.innerText = elem.Title;

        box.append(img,title,release);
        body.append(box);

    });
    
}


